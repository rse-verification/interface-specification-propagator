[kernel] Parsing isp_038_struct_as_arg.c (with preprocessing)
[isp] No entry point was specified! The default entry point "main" will be used.
[isp] Execute Eva with entry point "main"
[eva] Analyzing an incomplete application starting at main
[eva] Computing initial state
[eva] Initial state computed
[eva:initial-state] Values of globals at initialization
  gs.b1.a1 ∈ [--..--]
    .b1.a2 ∈ [-3.40282346639e+38 .. 3.40282346639e+38]
    .b2 ∈ [--..--]
[eva] using specification for function get_struct
[eva] done for function main
[eva:summary] ====== ANALYSIS SUMMARY ======
  ----------------------------------------------------------------------------
  2 functions analyzed (out of 2): 100% coverage.
  In these functions, 5 statements reached (out of 5): 100% coverage.
  ----------------------------------------------------------------------------
  No errors or warnings raised during the analysis.
  ----------------------------------------------------------------------------
  0 alarms generated by the analysis.
  ----------------------------------------------------------------------------
  No logical properties have been reached by the analysis.
  ----------------------------------------------------------------------------
[isp] Eva analysis is completed.
[isp] Warning: The range of values for a.b1.a2 contain a NaN!
[isp] Warning: The range of values for gs.b1.a2 contain a NaN!
[isp] Warning: A function call to an unknown function: get_struct
[isp] Warning: The range of values for gs.b1.a2 contain a NaN!
[isp] The transformed source code:
/* Generated by Frama-C */
struct __anonstruct_StructA_1 {
   int a1 ;
   float a2 ;
};
typedef struct __anonstruct_StructA_1 StructA;
struct __anonstruct_StructB_2 {
   StructA b1 ;
   int b2 ;
};
typedef struct __anonstruct_StructB_2 StructB;
StructB gs;
/*@ ensures -313 ≤ \result.b1.a1 ≤ 17;
    ensures -10.0 ≤ \result.b1.a2 ≤ 10.0;
    ensures -2989 ≤ \result.b2 ≤ 49374;
    assigns \result;
    assigns \result \from \nothing;
 */
StructB get_struct(void);

/*@ requires a.b2 ≥ -2989;
    requires a.b2 ≤ 49374;
    requires a.b1.a2 ≥ -inf ∧ a.b1.a2 ≤ inf;
    requires a.b1.a1 ≥ -313;
    requires a.b1.a1 ≤ 17;
    requires \valid_read(&gs);
    requires \valid(&gs);
    ensures gs.b2 ≥ -2989;
    ensures gs.b2 ≤ 49374;
    ensures gs.b1.a2 ≥ -inf ∧ gs.b1.a2 ≤ inf;
    ensures gs.b1.a1 ≥ -313;
    ensures gs.b1.a1 ≤ 17;
    assigns gs;
 */
void set_global_struct(StructB a)
{
  gs = a;
  return;
}

/*@ requires \valid_read(&gs);
    requires \valid(&gs);
    ensures gs.b2 ≥ -2989;
    ensures gs.b2 ≤ 49374;
    ensures gs.b1.a2 ≥ -inf ∧ gs.b1.a2 ≤ inf;
    ensures gs.b1.a1 ≥ -313;
    ensures gs.b1.a1 ≤ 17;
    assigns gs;
 */
void main(void)
{
  StructB ls = get_struct();
  set_global_struct(ls);
  return;
}


